(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('date-picker-directive', ['exports', '@angular/core', '@angular/common'], factory) :
    (factory((global['date-picker-directive'] = {}),global.ng.core,global.ng.common));
}(this, (function (exports,i0,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DatePickerDirectiveService = (function () {
        function DatePickerDirectiveService() {
        }
        DatePickerDirectiveService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] },
        ];
        /** @nocollapse */
        DatePickerDirectiveService.ctorParameters = function () { return []; };
        /** @nocollapse */ DatePickerDirectiveService.ngInjectableDef = i0.defineInjectable({ factory: function DatePickerDirectiveService_Factory() { return new DatePickerDirectiveService(); }, token: DatePickerDirectiveService, providedIn: "root" });
        return DatePickerDirectiveService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DatePickerDirectiveComponent = (function () {
        function DatePickerDirectiveComponent() {
            this._mindate = null;
            this._maxdate = null;
            this.singleDatePicker = false;
            // _singleDatePicker: boolean = false;
            // @Input()
            // set singleDatePicker(isSingle) {
            //   if (isSingle) {
            //     this._singleDatePicker = isSingle;
            //   }
            // }
            // get singleDatePicker() {
            //   return this._singleDatePicker;
            // }
            this.linkedCalendars = true;
            this.monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            this.tmpDate = null;
            this.tmpEndDate = null;
            this.days = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
            this.focusedInput = 'start';
            this.close = new i0.EventEmitter();
            this.dateSelected = new i0.EventEmitter();
        }
        Object.defineProperty(DatePickerDirectiveComponent.prototype, "minDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._mindate;
            },
            set: /**
             * @param {?} date
             * @return {?}
             */ function (date) {
                if (date) {
                    this._mindate = new Date(date);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirectiveComponent.prototype, "maxDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._maxdate;
            },
            set: /**
             * @param {?} date
             * @return {?}
             */ function (date) {
                if (date) {
                    this._maxdate = new Date(date);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirectiveComponent.prototype, "startDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._startDate;
            },
            set: /**
             * @param {?} date
             * @return {?}
             */ function (date) {
                if (date) {
                    this._startDate = new Date(date);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirectiveComponent.prototype, "endDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._endDate;
            },
            set: /**
             * @param {?} date
             * @return {?}
             */ function (date) {
                if (date) {
                    this._endDate = new Date(date);
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.ranges = [{
                        title: 'Today',
                        period: [new Date(), new Date()]
                    }, {
                        title: 'Yesterday',
                        period: [this.getYesterday(), this.getYesterday()]
                    }, {
                        title: 'Last 7 Days',
                        period: [this.getPast7Days(), new Date()]
                    }, {
                        title: 'Last 30 Days',
                        period: [this.getPast30Days(), new Date()]
                    }, {
                        title: 'This Month',
                        period: [this.getFirstDay(), new Date()]
                    }, {
                        title: 'Last Month',
                        period: [this.getFirstDayPrev(), this.getLastDayPrev()]
                    }];
                if (!this.startDate) {
                    this._startDate = new Date();
                }
                this.leftCalendar = { month: new Date(this.startDate.getTime()), calendar: null };
                if (!this.endDate) {
                    this._endDate = new Date(this.startDate);
                }
                this.rightCalendar = { month: this.getNextMonth(this.endDate), calendar: null };
                this.displayStartDate = this.startDate.toLocaleDateString();
                this.displayEndDate = this.endDate.toLocaleDateString();
                this.renderCalendar('left');
                this.renderCalendar('right');
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getYesterday = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                date.setDate(date.getDate() - 1);
                return date;
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getPast7Days = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                date.setDate(date.getDate() - 6);
                return date;
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getPast30Days = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                date.setDate(date.getDate() - 29);
                return date;
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getFirstDay = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                return new Date(date.getFullYear(), date.getMonth(), 1);
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getFirstDayPrev = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                return new Date(date.getFullYear(), (date.getMonth() - 1), 1);
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getLastDayPrev = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ date = new Date();
                return new Date(date.getFullYear(), date.getMonth(), 0);
            };
        /**
         * @param {?} month
         * @param {?} year
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.daysInMonth = /**
         * @param {?} month
         * @param {?} year
         * @return {?}
         */
            function (month, year) {
                return new Date(year, month, 0).getDate();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getLastMonth = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                var /** @type {?} */ d = new Date(date.getTime());
                var /** @type {?} */ c = new Date(d.getTime());
                c.setMonth((d.getMonth() - 1));
                return c;
            };
        /**
         * @param {?} date
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getNextMonth = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                var /** @type {?} */ d = new Date(date.getTime());
                return new Date(d.setMonth(d.getMonth() + 1));
            };
        /**
         * @param {?} date
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getMonthYear = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.getFullYear() + "-" + date.getMonth();
            };
        /**
         * @param {?} d1
         * @param {?} d2
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isBefore = /**
         * @param {?} d1
         * @param {?} d2
         * @return {?}
         */
            function (d1, d2) {
                return d1 < d2;
            };
        /**
         * @param {?} d1
         * @param {?} d2
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isAfter = /**
         * @param {?} d1
         * @param {?} d2
         * @return {?}
         */
            function (d1, d2) {
                return d2 < d1;
            };
        /**
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.renderCalendar = /**
         * @param {?} side
         * @return {?}
         */
            function (side) {
                var /** @type {?} */ date = (side == 'left' ? this.leftCalendar.month : this.rightCalendar.month);
                var /** @type {?} */ month = date.getMonth();
                var /** @type {?} */ year = date.getFullYear();
                var /** @type {?} */ daysInMonth = this.daysInMonth(month + 1, year);
                var /** @type {?} */ firstDay = new Date(year, month, 1);
                var /** @type {?} */ lastMonth = this.getLastMonth(firstDay).getMonth();
                var /** @type {?} */ lastYear = this.getLastMonth(firstDay).getFullYear();
                var /** @type {?} */ daysInLastMonth = this.daysInMonth(lastMonth + 1, lastYear);
                var /** @type {?} */ dayOfWeek = firstDay.getDay();
                var /** @type {?} */ calendar = [];
                for (var /** @type {?} */ i = 0; i < 6; i++) {
                    calendar[i] = [];
                }
                var /** @type {?} */ startDay = daysInLastMonth - dayOfWeek + 1;
                if (startDay > daysInLastMonth) {
                    startDay -= 7;
                }
                if (dayOfWeek === 0) {
                    startDay = daysInLastMonth - 6;
                }
                var /** @type {?} */ curDate = new Date(lastYear, lastMonth, startDay);
                for (var /** @type {?} */ i = 0, /** @type {?} */ col_1 = 0, /** @type {?} */ row_1 = 0; i < 42; i++, col_1++, curDate.setDate(curDate.getDate() + 1)) {
                    if (i > 0 && col_1 % 7 === 0) {
                        col_1 = 0;
                        row_1++;
                    }
                    calendar[row_1][col_1] = new Date(curDate.getTime());
                    curDate.setHours(12);
                    if (this.minDate && calendar[row_1][col_1].toLocaleDateString() == this.minDate.toLocaleDateString() && this.isBefore(calendar[row_1][col_1], this.minDate) && side == 'left') {
                        calendar[row_1][col_1] = new Date(this.minDate.getTime());
                    }
                    if (this.maxDate && calendar[row_1][col_1].toLocaleDateString() == this.maxDate.toLocaleDateString() && this.isAfter(calendar[row_1][col_1], this.maxDate) && side == 'right') {
                        calendar[row_1][col_1] = new Date(this.maxDate.getTime());
                    }
                }
                //make the calendar object available to hoverDate/clickDate
                if (side == 'left') {
                    this.leftCalendar.calendar = calendar;
                }
                else {
                    this.rightCalendar.calendar = calendar;
                }
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isToday = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (!day) {
                    return false;
                }
                return new Date().toLocaleDateString() === day.toLocaleDateString();
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isActiveDate = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (day.toLocaleDateString() == this.startDate.toLocaleDateString()) {
                    return true;
                }
                else if (this.endDate && day.toLocaleDateString() == this.endDate.toLocaleDateString()) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isStartDate = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (day.toLocaleDateString() == this.startDate.toLocaleDateString()) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isEndDate = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (this.endDate && day.toLocaleDateString() == this.endDate.toLocaleDateString()) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isDisabled = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (this.minDate && this.isBefore(day, this.minDate)) {
                    return true;
                }
                else if (this.maxDate && this.isAfter(day, this.maxDate)) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.isInRange = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (this.endDate) {
                    if (this.isAfter(day, this.startDate) && this.isBefore(day, this.endDate)) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
                else {
                    if (this.isAfter(day, this.startDate) && this.isBefore(day, this.tmpDate)) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.nextAvailable = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ calendar = (this.singleDatePicker ? this.leftCalendar : this.rightCalendar);
                var /** @type {?} */ lday = new Date(calendar.month.getFullYear(), calendar.month.getMonth() + 1, 0);
                if (!this.maxDate || this.isAfter(this.maxDate, lday)) {
                    return true;
                }
                else {
                    return false;
                }
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.prevAvailable = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ calendar = this.leftCalendar;
                var /** @type {?} */ fday = new Date(calendar.month.getFullYear(), calendar.month.getMonth(), 1);
                if (!this.minDate || this.isBefore(this.minDate, fday)) {
                    return true;
                }
                else {
                    return false;
                }
            };
        /**
         * @param {?} day
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.notActiveMonth = /**
         * @param {?} day
         * @param {?} side
         * @return {?}
         */
            function (day, side) {
                var /** @type {?} */ cal = (side == 'left' ? this.leftCalendar.calendar : this.rightCalendar.calendar);
                if (day.getMonth() != cal[1][1].getMonth()) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.getMonth = /**
         * @param {?} side
         * @return {?}
         */
            function (side) {
                var /** @type {?} */ cal = (side == 'left' ? this.leftCalendar.calendar : this.rightCalendar.calendar);
                return this.monthNames[cal[1][1].getMonth()] + " " + cal[1][1].getFullYear();
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.clickPrev = /**
         * @return {?}
         */
            function () {
                this.leftCalendar.month.setMonth(this.leftCalendar.month.getMonth() - 1);
                this.renderCalendar('left');
                if (this.rightCalendar.calendar) {
                    this.rightCalendar.month.setMonth(this.rightCalendar.month.getMonth() - 1);
                    this.renderCalendar('right');
                }
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.clickNext = /**
         * @return {?}
         */
            function () {
                this.leftCalendar.month.setMonth(this.leftCalendar.month.getMonth() + 1);
                this.renderCalendar('left');
                if (this.rightCalendar.calendar) {
                    this.rightCalendar.month.setMonth(this.rightCalendar.month.getMonth() + 1);
                    this.renderCalendar('right');
                }
            };
        /**
         * @param {?} day
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.clickdate = /**
         * @param {?} day
         * @param {?} side
         * @return {?}
         */
            function (day, side) {
                if (this.isDisabled(day)) {
                    return false;
                }
                if (this.endDate || this.isBefore(day, this.startDate)) {
                    this._endDate = null;
                    this.setStartDate(day);
                    if (this.tmpEndDate) {
                        this.setEndDate(this.tmpEndDate);
                    }
                    else {
                        this.focusedInput = 'end';
                    }
                }
                else if (!this.endDate && this.isBefore(day, this.startDate)) {
                    this.setEndDate(this.startDate);
                    this.focusedInput = 'start';
                }
                else {
                    this.setEndDate(day);
                    this.focusedInput = 'start';
                }
                if (this.singleDatePicker) {
                    this.setEndDate(this.startDate);
                    this.focusedInput = 'start';
                    this.dateSelected.emit(this.startDate.toLocaleDateString());
                }
                this.updateView();
            };
        /**
         * @param {?} range
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.rangeClick = /**
         * @param {?} range
         * @return {?}
         */
            function (range) {
                this.setStartDate(range.period[0]);
                this.setEndDate(range.period[1]);
                this.updateView();
                this.applyClick();
            };
        /**
         * @param {?} range
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.rangeHover = /**
         * @param {?} range
         * @return {?}
         */
            function (range) {
                this.displayStartDate = range.period[0].toLocaleDateString();
                this.displayEndDate = range.period[1].toLocaleDateString();
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.hoverExit = /**
         * @return {?}
         */
            function () {
                this.displayStartDate = this.startDate.toLocaleDateString();
                this.displayEndDate = (this.endDate ? this.endDate.toLocaleDateString() : this.displayStartDate);
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.hoverdate = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (this.isDisabled(day)) {
                    return false;
                }
                this.tmpDate = new Date(day.getTime());
                if (this.focusedInput === 'start') {
                    this.displayStartDate = this.tmpDate.toLocaleDateString();
                }
                else {
                    this.displayEndDate = this.tmpDate.toLocaleDateString();
                }
            };
        /**
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.inputFocus = /**
         * @param {?} side
         * @return {?}
         */
            function (side) {
                this.focusedInput = side;
                if (this.endDate) {
                    this.tmpEndDate = new Date(this.endDate.getTime());
                    if (side == 'start') ;
                    else if (side == 'end') {
                        this._endDate = null;
                    }
                }
            };
        /**
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.inputBlur = /**
         * @param {?} side
         * @return {?}
         */
            function (side) {
            };
        /**
         * @param {?} event
         * @param {?} side
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.inputChanged = /**
         * @param {?} event
         * @param {?} side
         * @return {?}
         */
            function (event, side) {
                var /** @type {?} */ val = new Date(event.target.value).toLocaleDateString();
                if (this.isDisabled(val)) {
                    return false;
                }
                if (side === 'start') {
                    this.setStartDate(val);
                }
                else if (side === 'end') {
                    this.setEndDate(val);
                    if (this.isBefore(val, this.startDate)) {
                        this.setStartDate(val);
                    }
                }
                this.updateView();
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.updateView = /**
         * @return {?}
         */
            function () {
                if (this.endDate) {
                    //if both dates are visible already, do nothing
                    if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&
                        (this.getMonthYear(this.startDate) == this.getMonthYear(this.leftCalendar.month)) || (this.getMonthYear(this.startDate) == this.getMonthYear(this.rightCalendar.month))
                        &&
                            (this.getMonthYear(this.endDate) == this.getMonthYear(this.leftCalendar.month) || this.getMonthYear(this.endDate) == this.getMonthYear(this.rightCalendar.month))) {
                        return;
                    }
                    this.leftCalendar.month = new Date(this.startDate.getTime());
                    if (!this.linkedCalendars && (this.endDate.getMonth() != this.startDate.getMonth() || this.endDate.getFullYear() != this.startDate.getFullYear())) {
                        this.rightCalendar.month = new Date(this.endDate.getTime());
                    }
                    else {
                        this.rightCalendar.month = new Date(this.startDate.getFullYear(), this.startDate.getMonth() + 1, 1);
                    }
                }
                else {
                    if (this.getMonthYear(this.leftCalendar.month) != this.getMonthYear(this.startDate) && this.getMonthYear(this.rightCalendar.month) != this.getMonthYear(this.startDate)) {
                        this.leftCalendar.month = new Date(this.startDate.getTime());
                        this.rightCalendar.month = new Date(this.startDate.getFullYear(), this.startDate.getMonth() + 1, 1);
                    }
                }
                if (this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate) {
                    this.rightCalendar.month = new Date(this.maxDate.getTime());
                    this.leftCalendar.month = new Date(this.maxDate.getFullYear(), this.maxDate.getMonth() - 1, 1);
                }
                this.renderCalendar('left');
                this.renderCalendar('right');
            };
        /**
         * @param {?} startDate
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.setStartDate = /**
         * @param {?} startDate
         * @return {?}
         */
            function (startDate) {
                if (typeof startDate === 'string')
                    this._startDate = new Date(startDate);
                if (typeof startDate === 'object')
                    this._startDate = new Date(startDate.getTime());
                this.displayStartDate = this.startDate.toLocaleDateString();
            };
        /**
         * @param {?} endDate
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.setEndDate = /**
         * @param {?} endDate
         * @return {?}
         */
            function (endDate) {
                if (typeof endDate === 'string')
                    this._endDate = new Date(endDate);
                if (typeof endDate === 'object')
                    this._endDate = new Date(endDate.getTime());
                this.displayEndDate = this.endDate.toLocaleDateString();
                this.tmpEndDate = null;
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.applyClick = /**
         * @return {?}
         */
            function () {
                this.dateSelected.emit(this.startDate.toLocaleDateString() + ' - ' + this.endDate.toLocaleDateString());
            };
        /**
         * @return {?}
         */
        DatePickerDirectiveComponent.prototype.cancelClick = /**
         * @return {?}
         */
            function () {
                this.close.emit(false);
            };
        DatePickerDirectiveComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'date-picker-directive',
                        template: "<div class=\"rl-drpicker\">\n  <div id=\"range-container\" class=\"column\" *ngIf=\"!singleDatePicker\">\n    <div *ngFor=\"let range of ranges\" class=\"range\" (mouseenter)=\"rangeHover(range)\" (mouseleave)=\"hoverExit()\" (click)=\"rangeClick(range)\">{{range.title}}</div>\n    <div class=\"buttons\">\n      <button class=\"apply\" (click)=\"applyClick()\">Apply</button>\n      <button class=\"cancel\" (click)=\"cancelClick()\">Cancel</button>\n    </div>\n  </div>\n  <div id=\"calendar-container\" class=\"column left\">\n    <div class=\"calendar-input\">\n      <input type=\"text\" placeholder=\"Start Date\" [value]=\"displayStartDate\" [class.focused]=\"focusedInput=='start'\" (change)=\"inputChanged($event, 'start')\"\n        (focus)=\"inputFocus('start')\" (blur)=\"inputBlur('start')\" />\n    </div>\n    <div class=\"calendar-table\">\n      <div class=\"calendar-period\">\n        <div class=\"nav-button prev\" (click)=\"clickPrev()\" *ngIf=\"prevAvailable()\">\n          <i class=\"calendar-nav\"></i>\n        </div>\n        {{getMonth('left')}}\n        <div class=\"nav-button next\" (click)=\"clickNext()\" *ngIf=\"nextAvailable() && singleDatePicker\">\n          <i class=\"calendar-nav\"></i>\n        </div>\n      </div>\n      <div class=\"days-header\">\n        <div class=\"day\" *ngFor=\"let day of days\">{{day}}</div>\n      </div>\n      <div class=\"calendar-row\" *ngFor=\"let row of leftCalendar.calendar\">\n        <div *ngFor=\"let col of row\" [class.today]=\"isToday(col)\" [class.off]=\"notActiveMonth(col, 'left')\" [class.active]=\"isActiveDate(col)\"\n          [class.in-range]=\"isInRange(col)\" [class.disabled]=\"isDisabled(col)\" [ngClass]=\"{'start-date':isStartDate(col), 'end-date':isEndDate(col)}\"\n          (mouseenter)=\"hoverdate(col)\" (mouseleave)=\"hoverExit()\" (click)=\"clickdate(col, 'left')\">{{col.getDate()}}</div>\n      </div>\n    </div>\n  </div>\n  <div id=\"calendar-container\" class=\"column right\" *ngIf=\"!singleDatePicker\">\n    <div class=\"calendar-input\">\n      <input type=\"text\" placeholder=\"End Date\" [value]=\"displayEndDate\" [class.focused]=\"focusedInput=='end'\" (change)=\"inputChanged($event, 'end')\"\n        (focus)=\"inputFocus('end')\" (blur)=\"inputBlur('start')\" />\n    </div>\n    <div class=\"calendar-table\">\n      <div class=\"calendar-period\">\n        <div class=\"nav-button next\" (click)=\"clickNext()\" *ngIf=\"nextAvailable()\">\n          <i class=\"calendar-nav\"></i>\n        </div>\n        {{getMonth('right')}}</div>\n      <div class=\"days-header\">\n        <div class=\"day\" *ngFor=\"let day of days\">{{day}}</div>\n      </div>\n      <div class=\"calendar-row\" *ngFor=\"let row of rightCalendar.calendar\">\n        <div *ngFor=\"let col of row\" [class.today]=\"isToday(col)\" [class.off]=\"notActiveMonth(col, 'right')\" [class.active]=\"isActiveDate(col)\"\n          (mouseleave)=\"hoverExit()\" [class.in-range]=\"isInRange(col)\" [class.disabled]=\"isDisabled(col)\" [ngClass]=\"{'start-date':isStartDate(col), 'end-date':isEndDate(col)}\"\n          (mouseenter)=\"hoverdate(col)\" (click)=\"clickdate(col, 'right')\">{{col.getDate()}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n",
                        styles: [".rl-drpicker{z-index:995;position:absolute;top:5px;left:0;font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif;display:flex;border:1px solid #eee;background-color:#fff;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);width:auto;padding:10px;color:#333}.rl-drpicker.edge{right:0 !important;left: auto;}.rl-drpicker>.column{/*display:inline-block;vertical-align:top*/}.rl-drpicker>#range-container{width:140px;margin-right:10px;}.rl-drpicker>#range-container>.range{font-size:11pt;background-color:#f5f5f5;border:1px solid #f5f5f5;color:#08c;padding:5px 12px;margin-bottom:10px;cursor:pointer}.rl-drpicker>#range-container>.range:hover{background-color:#08c;border:1px solid #08c;color:#fff}.rl-drpicker>#calendar-container{margin-right:10px; width:230px;}.rl-drpicker>#calendar-container .calendar-input{padding:0 15px;margin-bottom:10px}.rl-drpicker>#calendar-container .calendar-input>input{width:100%;font-size:10pt;padding:5px 0 5px 5px;border:1px solid #ccc}.rl-drpicker>#calendar-container .calendar-input input.focused{border:1px solid #08c}.rl-drpicker>#calendar-container .calendar-period{text-align:center;font-weight:800;font-size:10pt;margin:7px 10px 3px 15px;line-height:24px;height:24px}.rl-drpicker>#calendar-container .calendar-period .nav-button{height:100%;width:32px;vertical-align:top;text-align:center;cursor:pointer}.rl-drpicker>#calendar-container .calendar-period .nav-button>.calendar-nav{border:solid #333;border-width:0 3px 3px 0;padding:5px;display:inline-block}.rl-drpicker>#calendar-container .calendar-period .nav-button.prev{float:left}.rl-drpicker>#calendar-container .calendar-period .nav-button.prev>.calendar-nav{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rl-drpicker>#calendar-container .calendar-period .nav-button.next{float:right}.rl-drpicker>#calendar-container .calendar-period .nav-button.next>.calendar-nav{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rl-drpicker>#calendar-container .calendar-period .nav-button:hover .calendar-nav{border:solid #08c;border-width:0 3px 3px 0}.rl-drpicker>#calendar-container .days-header>div{display:inline-block;font-weight:800;font-size:10pt;white-space:nowrap;text-align:center;width:32px;height:32px;line-height:32px}.rl-drpicker>#calendar-container .calendar-row>div{cursor:pointer;display:inline-block;font-weight:500;font-size:10pt;white-space:nowrap;text-align:center;width:32px;height:32px;line-height:32px}.rl-drpicker>#calendar-container .calendar-row>div:hover{background-color:#eee;color:#333}.rl-drpicker>#calendar-container .calendar-row>div.active:not(.off){background-color:#08c!important;color:#fff!important}.rl-drpicker>#calendar-container .calendar-row>div.in-range:not(.off){background-color:#ebf4f8;color:#333}.rl-drpicker>#calendar-container .calendar-row .today:not(.off){background:#b71c1c;color:#fff}.rl-drpicker>#calendar-container .calendar-row .off{color:#999}.rl-drpicker>#calendar-container .calendar-row .disabled{color:#999;text-decoration:line-through}.rl-drpicker>#calendar-container:last-of-type{margin-right:0}.rl-drpicker .buttons{display: flex;justify-content:space-between;}.rl-drpicker .buttons>button{padding:5px 10px;font-size:11pt;cursor:pointer}.rl-drpicker .buttons button.apply{background:#08c;color:#fff;border:1px solid #08c}.rl-drpicker .buttons button.apply:hover{background:#1565c0}.rl-drpicker .buttons button.cancel{background:#eee;border:1px solid #ddd}.rl-drpicker .buttons button.cancel:hover{background:#ccc}.rl-drpicker:before{position:absolute;display:inline-block;top:-9px;border-right:7px solid transparent;border-left:7px solid transparent;border-bottom:9px solid #eee;content:''}.rl-drpicker.edge:before{right:10px;}"]
                    },] },
        ];
        /** @nocollapse */
        DatePickerDirectiveComponent.ctorParameters = function () { return []; };
        DatePickerDirectiveComponent.propDecorators = {
            minDate: [{ type: i0.Input }],
            maxDate: [{ type: i0.Input }],
            singleDatePicker: [{ type: i0.Input }],
            startDate: [{ type: i0.Input }],
            endDate: [{ type: i0.Input }]
        };
        return DatePickerDirectiveComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DatePickerDirective = (function () {
        function DatePickerDirective(ngZone, renderer, viewContainer, componentFactoryResolver) {
            this.ngZone = ngZone;
            this.renderer = renderer;
            this.viewContainer = viewContainer;
            this.componentFactoryResolver = componentFactoryResolver;
            this.dateselected = new i0.EventEmitter();
            this.ngModelChanged = new i0.EventEmitter();
            this.componentRef = null;
            this.pickerLoaded = false;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        DatePickerDirective.prototype.onFocus = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var _this = this;
                this.renderer.setStyle(this.viewContainer.element.nativeElement.parentElement, 'position', 'relative');
                var /** @type {?} */ height = this.viewContainer.element.nativeElement.offsetHeight;
                this.viewContainer.clear();
                var /** @type {?} */ componentFactory = this.componentFactoryResolver.resolveComponentFactory(DatePickerDirectiveComponent);
                this.componentRef = this.viewContainer.createComponent(componentFactory);
                this.componentRef.instance.minDate = this.minDate;
                this.componentRef.instance.maxDate = this.maxDate;
                this.componentRef.instance.singleDatePicker = this.singleDatePicker;
                this.componentRef.instance.startDate = this.startDate;
                this.componentRef.instance.endDate = this.endDate;
                var /** @type {?} */ elm = (document.querySelector('.rl-drpicker'));
                elm.setAttribute('style', 'top:' + parseInt(height + 10) + 'px');
                var /** @type {?} */ rect = elm.getBoundingClientRect();
                var /** @type {?} */ l = rect.left;
                var /** @type {?} */ w = rect.width;
                var /** @type {?} */ docH = document.getElementsByTagName("body")[0].offsetHeight;
                var /** @type {?} */ docW = document.getElementsByTagName("body")[0].offsetWidth;
                var /** @type {?} */ isEntirelyVisible = (l + w <= docW);
                if (!isEntirelyVisible) {
                    elm.classList.add('edge');
                }
                else {
                    elm.classList.remove('edge');
                }
                this.componentRef.instance.close.subscribe(function () {
                    _this.componentRef.destroy();
                });
                this.componentRef.instance.dateSelected.subscribe(function (val) {
                    _this.dateselected.emit(val);
                    _this.componentRef.destroy();
                    _this.pickerLoaded = false;
                });
            };
        /**
         * @param {?} targetElement
         * @return {?}
         */
        DatePickerDirective.prototype.onClick = /**
         * @param {?} targetElement
         * @return {?}
         */
            function (targetElement) {
                if (this.componentRef) {
                    var /** @type {?} */ clickedDp = this.componentRef.location.nativeElement.contains(targetElement);
                    var /** @type {?} */ clickedInput = this.viewContainer.element.nativeElement == targetElement;
                    var /** @type {?} */ inDp = (targetElement.parentElement ? targetElement.parentElement.classList.contains('calendar-row') : false);
                    if (!clickedDp && !clickedInput && !inDp) {
                        if (this.componentRef) {
                            this.componentRef.destroy();
                        }
                    }
                }
            };
        DatePickerDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[date-picker]'
                    },] },
        ];
        /** @nocollapse */
        DatePickerDirective.ctorParameters = function () {
            return [
                { type: i0.NgZone },
                { type: i0.Renderer2 },
                { type: i0.ViewContainerRef },
                { type: i0.ComponentFactoryResolver }
            ];
        };
        DatePickerDirective.propDecorators = {
            minDate: [{ type: i0.Input }],
            maxDate: [{ type: i0.Input }],
            singleDatePicker: [{ type: i0.Input }],
            linkedCalendars: [{ type: i0.Input }],
            startDate: [{ type: i0.Input }],
            ngModel: [{ type: i0.Input }],
            endDate: [{ type: i0.Input }],
            dateselected: [{ type: i0.Output }],
            ngModelChanged: [{ type: i0.Output }],
            onFocus: [{ type: i0.HostListener, args: ['focus', ['$event'],] }],
            onClick: [{ type: i0.HostListener, args: ['document:click', ['$event.target'],] }]
        };
        return DatePickerDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DatePickerModule = (function () {
        function DatePickerModule() {
        }
        DatePickerModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [common.CommonModule
                        ],
                        entryComponents: [DatePickerDirectiveComponent],
                        declarations: [DatePickerDirectiveComponent, DatePickerDirective],
                        exports: [DatePickerDirectiveComponent, DatePickerDirective]
                    },] },
        ];
        return DatePickerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.DatePickerDirectiveService = DatePickerDirectiveService;
    exports.DatePickerDirectiveComponent = DatePickerDirectiveComponent;
    exports.DatePickerDirective = DatePickerDirective;
    exports.DatePickerModule = DatePickerModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1waWNrZXItZGlyZWN0aXZlLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vZGF0ZS1waWNrZXItZGlyZWN0aXZlL2xpYi9kYXRlLXBpY2tlci1kaXJlY3RpdmUuc2VydmljZS50cyIsIm5nOi8vZGF0ZS1waWNrZXItZGlyZWN0aXZlL2xpYi9kYXRlLXBpY2tlci1kaXJlY3RpdmUuY29tcG9uZW50LnRzIiwibmc6Ly9kYXRlLXBpY2tlci1kaXJlY3RpdmUvbGliL2RhdGUtcGlja2VyLmRpcmVjdGl2ZS50cyIsIm5nOi8vZGF0ZS1waWNrZXItZGlyZWN0aXZlL2xpYi9kYXRlLXBpY2tlci1kaXJlY3RpdmUubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJEaXJlY3RpdmVTZXJ2aWNlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2RhdGUtcGlja2VyLWRpcmVjdGl2ZScsXHJcbiAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz1cXFwicmwtZHJwaWNrZXJcXFwiPlxcbiAgPGRpdiBpZD1cXFwicmFuZ2UtY29udGFpbmVyXFxcIiBjbGFzcz1cXFwiY29sdW1uXFxcIiAqbmdJZj1cXFwiIXNpbmdsZURhdGVQaWNrZXJcXFwiPlxcbiAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IHJhbmdlIG9mIHJhbmdlc1xcXCIgY2xhc3M9XFxcInJhbmdlXFxcIiAobW91c2VlbnRlcik9XFxcInJhbmdlSG92ZXIocmFuZ2UpXFxcIiAobW91c2VsZWF2ZSk9XFxcImhvdmVyRXhpdCgpXFxcIiAoY2xpY2spPVxcXCJyYW5nZUNsaWNrKHJhbmdlKVxcXCI+e3tyYW5nZS50aXRsZX19PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbnNcXFwiPlxcbiAgICAgIDxidXR0b24gY2xhc3M9XFxcImFwcGx5XFxcIiAoY2xpY2spPVxcXCJhcHBseUNsaWNrKClcXFwiPkFwcGx5PC9idXR0b24+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiY2FuY2VsXFxcIiAoY2xpY2spPVxcXCJjYW5jZWxDbGljaygpXFxcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG4gIDxkaXYgaWQ9XFxcImNhbGVuZGFyLWNvbnRhaW5lclxcXCIgY2xhc3M9XFxcImNvbHVtbiBsZWZ0XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItaW5wdXRcXFwiPlxcbiAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiU3RhcnQgRGF0ZVxcXCIgW3ZhbHVlXT1cXFwiZGlzcGxheVN0YXJ0RGF0ZVxcXCIgW2NsYXNzLmZvY3VzZWRdPVxcXCJmb2N1c2VkSW5wdXQ9PSdzdGFydCdcXFwiIChjaGFuZ2UpPVxcXCJpbnB1dENoYW5nZWQoJGV2ZW50LCAnc3RhcnQnKVxcXCJcXG4gICAgICAgIChmb2N1cyk9XFxcImlucHV0Rm9jdXMoJ3N0YXJ0JylcXFwiIChibHVyKT1cXFwiaW5wdXRCbHVyKCdzdGFydCcpXFxcIiAvPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItdGFibGVcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLXBlcmlvZFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJuYXYtYnV0dG9uIHByZXZcXFwiIChjbGljayk9XFxcImNsaWNrUHJldigpXFxcIiAqbmdJZj1cXFwicHJldkF2YWlsYWJsZSgpXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImNhbGVuZGFyLW5hdlxcXCI+PC9pPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICB7e2dldE1vbnRoKCdsZWZ0Jyl9fVxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibmF2LWJ1dHRvbiBuZXh0XFxcIiAoY2xpY2spPVxcXCJjbGlja05leHQoKVxcXCIgKm5nSWY9XFxcIm5leHRBdmFpbGFibGUoKSAmJiBzaW5nbGVEYXRlUGlja2VyXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImNhbGVuZGFyLW5hdlxcXCI+PC9pPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZGF5cy1oZWFkZXJcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGF5XFxcIiAqbmdGb3I9XFxcImxldCBkYXkgb2YgZGF5c1xcXCI+e3tkYXl9fTwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLXJvd1xcXCIgKm5nRm9yPVxcXCJsZXQgcm93IG9mIGxlZnRDYWxlbmRhci5jYWxlbmRhclxcXCI+XFxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IGNvbCBvZiByb3dcXFwiIFtjbGFzcy50b2RheV09XFxcImlzVG9kYXkoY29sKVxcXCIgW2NsYXNzLm9mZl09XFxcIm5vdEFjdGl2ZU1vbnRoKGNvbCwgJ2xlZnQnKVxcXCIgW2NsYXNzLmFjdGl2ZV09XFxcImlzQWN0aXZlRGF0ZShjb2wpXFxcIlxcbiAgICAgICAgICBbY2xhc3MuaW4tcmFuZ2VdPVxcXCJpc0luUmFuZ2UoY29sKVxcXCIgW2NsYXNzLmRpc2FibGVkXT1cXFwiaXNEaXNhYmxlZChjb2wpXFxcIiBbbmdDbGFzc109XFxcInsnc3RhcnQtZGF0ZSc6aXNTdGFydERhdGUoY29sKSwgJ2VuZC1kYXRlJzppc0VuZERhdGUoY29sKX1cXFwiXFxuICAgICAgICAgIChtb3VzZWVudGVyKT1cXFwiaG92ZXJkYXRlKGNvbClcXFwiIChtb3VzZWxlYXZlKT1cXFwiaG92ZXJFeGl0KClcXFwiIChjbGljayk9XFxcImNsaWNrZGF0ZShjb2wsICdsZWZ0JylcXFwiPnt7Y29sLmdldERhdGUoKX19PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuICA8ZGl2IGlkPVxcXCJjYWxlbmRhci1jb250YWluZXJcXFwiIGNsYXNzPVxcXCJjb2x1bW4gcmlnaHRcXFwiICpuZ0lmPVxcXCIhc2luZ2xlRGF0ZVBpY2tlclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWlucHV0XFxcIj5cXG4gICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIkVuZCBEYXRlXFxcIiBbdmFsdWVdPVxcXCJkaXNwbGF5RW5kRGF0ZVxcXCIgW2NsYXNzLmZvY3VzZWRdPVxcXCJmb2N1c2VkSW5wdXQ9PSdlbmQnXFxcIiAoY2hhbmdlKT1cXFwiaW5wdXRDaGFuZ2VkKCRldmVudCwgJ2VuZCcpXFxcIlxcbiAgICAgICAgKGZvY3VzKT1cXFwiaW5wdXRGb2N1cygnZW5kJylcXFwiIChibHVyKT1cXFwiaW5wdXRCbHVyKCdzdGFydCcpXFxcIiAvPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItdGFibGVcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLXBlcmlvZFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJuYXYtYnV0dG9uIG5leHRcXFwiIChjbGljayk9XFxcImNsaWNrTmV4dCgpXFxcIiAqbmdJZj1cXFwibmV4dEF2YWlsYWJsZSgpXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImNhbGVuZGFyLW5hdlxcXCI+PC9pPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICB7e2dldE1vbnRoKCdyaWdodCcpfX08L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJkYXlzLWhlYWRlclxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkYXlcXFwiICpuZ0Zvcj1cXFwibGV0IGRheSBvZiBkYXlzXFxcIj57e2RheX19PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItcm93XFxcIiAqbmdGb3I9XFxcImxldCByb3cgb2YgcmlnaHRDYWxlbmRhci5jYWxlbmRhclxcXCI+XFxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IGNvbCBvZiByb3dcXFwiIFtjbGFzcy50b2RheV09XFxcImlzVG9kYXkoY29sKVxcXCIgW2NsYXNzLm9mZl09XFxcIm5vdEFjdGl2ZU1vbnRoKGNvbCwgJ3JpZ2h0JylcXFwiIFtjbGFzcy5hY3RpdmVdPVxcXCJpc0FjdGl2ZURhdGUoY29sKVxcXCJcXG4gICAgICAgICAgKG1vdXNlbGVhdmUpPVxcXCJob3ZlckV4aXQoKVxcXCIgW2NsYXNzLmluLXJhbmdlXT1cXFwiaXNJblJhbmdlKGNvbClcXFwiIFtjbGFzcy5kaXNhYmxlZF09XFxcImlzRGlzYWJsZWQoY29sKVxcXCIgW25nQ2xhc3NdPVxcXCJ7J3N0YXJ0LWRhdGUnOmlzU3RhcnREYXRlKGNvbCksICdlbmQtZGF0ZSc6aXNFbmREYXRlKGNvbCl9XFxcIlxcbiAgICAgICAgICAobW91c2VlbnRlcik9XFxcImhvdmVyZGF0ZShjb2wpXFxcIiAoY2xpY2spPVxcXCJjbGlja2RhdGUoY29sLCAncmlnaHQnKVxcXCI+e3tjb2wuZ2V0RGF0ZSgpfX08L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIixcclxuICBzdHlsZXM6IFtcIi5ybC1kcnBpY2tlcnt6LWluZGV4Ojk5NTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NXB4O2xlZnQ6MDtmb250LWZhbWlseTpcXFwiSGVsdmV0aWNhIE5ldWVcXFwiLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2Rpc3BsYXk6ZmxleDtib3JkZXI6MXB4IHNvbGlkICNlZWU7YmFja2dyb3VuZC1jb2xvcjojZmZmOy13ZWJraXQtYm94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSk7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSk7d2lkdGg6YXV0bztwYWRkaW5nOjEwcHg7Y29sb3I6IzMzM30ucmwtZHJwaWNrZXIuZWRnZXtyaWdodDowICFpbXBvcnRhbnQ7bGVmdDogYXV0bzt9LnJsLWRycGlja2VyPi5jb2x1bW57LypkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3AqL30ucmwtZHJwaWNrZXI+I3JhbmdlLWNvbnRhaW5lcnt3aWR0aDoxNDBweDttYXJnaW4tcmlnaHQ6MTBweDt9LnJsLWRycGlja2VyPiNyYW5nZS1jb250YWluZXI+LnJhbmdle2ZvbnQtc2l6ZToxMXB0O2JhY2tncm91bmQtY29sb3I6I2Y1ZjVmNTtib3JkZXI6MXB4IHNvbGlkICNmNWY1ZjU7Y29sb3I6IzA4YztwYWRkaW5nOjVweCAxMnB4O21hcmdpbi1ib3R0b206MTBweDtjdXJzb3I6cG9pbnRlcn0ucmwtZHJwaWNrZXI+I3JhbmdlLWNvbnRhaW5lcj4ucmFuZ2U6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDhjO2JvcmRlcjoxcHggc29saWQgIzA4Yztjb2xvcjojZmZmfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVye21hcmdpbi1yaWdodDoxMHB4OyB3aWR0aDoyMzBweDt9LnJsLWRycGlja2VyPiNjYWxlbmRhci1jb250YWluZXIgLmNhbGVuZGFyLWlucHV0e3BhZGRpbmc6MCAxNXB4O21hcmdpbi1ib3R0b206MTBweH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuY2FsZW5kYXItaW5wdXQ+aW5wdXR7d2lkdGg6MTAwJTtmb250LXNpemU6MTBwdDtwYWRkaW5nOjVweCAwIDVweCA1cHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1pbnB1dCBpbnB1dC5mb2N1c2Vke2JvcmRlcjoxcHggc29saWQgIzA4Y30ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuY2FsZW5kYXItcGVyaW9ke3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjgwMDtmb250LXNpemU6MTBwdDttYXJnaW46N3B4IDEwcHggM3B4IDE1cHg7bGluZS1oZWlnaHQ6MjRweDtoZWlnaHQ6MjRweH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuY2FsZW5kYXItcGVyaW9kIC5uYXYtYnV0dG9ue2hlaWdodDoxMDAlO3dpZHRoOjMycHg7dmVydGljYWwtYWxpZ246dG9wO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1wZXJpb2QgLm5hdi1idXR0b24+LmNhbGVuZGFyLW5hdntib3JkZXI6c29saWQgIzMzMztib3JkZXItd2lkdGg6MCAzcHggM3B4IDA7cGFkZGluZzo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LnJsLWRycGlja2VyPiNjYWxlbmRhci1jb250YWluZXIgLmNhbGVuZGFyLXBlcmlvZCAubmF2LWJ1dHRvbi5wcmV2e2Zsb2F0OmxlZnR9LnJsLWRycGlja2VyPiNjYWxlbmRhci1jb250YWluZXIgLmNhbGVuZGFyLXBlcmlvZCAubmF2LWJ1dHRvbi5wcmV2Pi5jYWxlbmRhci1uYXZ7dHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxMzVkZWcpfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1wZXJpb2QgLm5hdi1idXR0b24ubmV4dHtmbG9hdDpyaWdodH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuY2FsZW5kYXItcGVyaW9kIC5uYXYtYnV0dG9uLm5leHQ+LmNhbGVuZGFyLW5hdnt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9LnJsLWRycGlja2VyPiNjYWxlbmRhci1jb250YWluZXIgLmNhbGVuZGFyLXBlcmlvZCAubmF2LWJ1dHRvbjpob3ZlciAuY2FsZW5kYXItbmF2e2JvcmRlcjpzb2xpZCAjMDhjO2JvcmRlci13aWR0aDowIDNweCAzcHggMH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuZGF5cy1oZWFkZXI+ZGl2e2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtd2VpZ2h0OjgwMDtmb250LXNpemU6MTBwdDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtsaW5lLWhlaWdodDozMnB4fS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1yb3c+ZGl2e2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtd2VpZ2h0OjUwMDtmb250LXNpemU6MTBwdDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtsaW5lLWhlaWdodDozMnB4fS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1yb3c+ZGl2OmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VlZTtjb2xvcjojMzMzfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1yb3c+ZGl2LmFjdGl2ZTpub3QoLm9mZil7YmFja2dyb3VuZC1jb2xvcjojMDhjIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lciAuY2FsZW5kYXItcm93PmRpdi5pbi1yYW5nZTpub3QoLm9mZil7YmFja2dyb3VuZC1jb2xvcjojZWJmNGY4O2NvbG9yOiMzMzN9LnJsLWRycGlja2VyPiNjYWxlbmRhci1jb250YWluZXIgLmNhbGVuZGFyLXJvdyAudG9kYXk6bm90KC5vZmYpe2JhY2tncm91bmQ6I2I3MWMxYztjb2xvcjojZmZmfS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1yb3cgLm9mZntjb2xvcjojOTk5fS5ybC1kcnBpY2tlcj4jY2FsZW5kYXItY29udGFpbmVyIC5jYWxlbmRhci1yb3cgLmRpc2FibGVke2NvbG9yOiM5OTk7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaH0ucmwtZHJwaWNrZXI+I2NhbGVuZGFyLWNvbnRhaW5lcjpsYXN0LW9mLXR5cGV7bWFyZ2luLXJpZ2h0OjB9LnJsLWRycGlja2VyIC5idXR0b25ze2Rpc3BsYXk6IGZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47fS5ybC1kcnBpY2tlciAuYnV0dG9ucz5idXR0b257cGFkZGluZzo1cHggMTBweDtmb250LXNpemU6MTFwdDtjdXJzb3I6cG9pbnRlcn0ucmwtZHJwaWNrZXIgLmJ1dHRvbnMgYnV0dG9uLmFwcGx5e2JhY2tncm91bmQ6IzA4Yztjb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgIzA4Y30ucmwtZHJwaWNrZXIgLmJ1dHRvbnMgYnV0dG9uLmFwcGx5OmhvdmVye2JhY2tncm91bmQ6IzE1NjVjMH0ucmwtZHJwaWNrZXIgLmJ1dHRvbnMgYnV0dG9uLmNhbmNlbHtiYWNrZ3JvdW5kOiNlZWU7Ym9yZGVyOjFweCBzb2xpZCAjZGRkfS5ybC1kcnBpY2tlciAuYnV0dG9ucyBidXR0b24uY2FuY2VsOmhvdmVye2JhY2tncm91bmQ6I2NjY30ucmwtZHJwaWNrZXI6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RvcDotOXB4O2JvcmRlci1yaWdodDo3cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b206OXB4IHNvbGlkICNlZWU7Y29udGVudDonJ30ucmwtZHJwaWNrZXIuZWRnZTpiZWZvcmV7cmlnaHQ6MTBweDt9XCJdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VyRGlyZWN0aXZlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgX21pbmRhdGU6IGFueSA9IG51bGw7XHJcbiAgQElucHV0KClcclxuICBzZXQgbWluRGF0ZShkYXRlKSB7XHJcbiAgICBpZiAoZGF0ZSkge1xyXG4gICAgICB0aGlzLl9taW5kYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBtaW5EYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21pbmRhdGU7XHJcbiAgfVxyXG4gIF9tYXhkYXRlOiBhbnkgPSBudWxsO1xyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IG1heERhdGUoZGF0ZSkge1xyXG4gICAgaWYgKGRhdGUpIHtcclxuICAgICAgdGhpcy5fbWF4ZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgbWF4RGF0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9tYXhkYXRlO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KCkgc2luZ2xlRGF0ZVBpY2tlcj86IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgLy8gX3NpbmdsZURhdGVQaWNrZXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAvLyBASW5wdXQoKVxyXG4gIC8vIHNldCBzaW5nbGVEYXRlUGlja2VyKGlzU2luZ2xlKSB7XHJcbiAgLy8gICBpZiAoaXNTaW5nbGUpIHtcclxuICAvLyAgICAgdGhpcy5fc2luZ2xlRGF0ZVBpY2tlciA9IGlzU2luZ2xlO1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuICAvLyBnZXQgc2luZ2xlRGF0ZVBpY2tlcigpIHtcclxuICAvLyAgIHJldHVybiB0aGlzLl9zaW5nbGVEYXRlUGlja2VyO1xyXG4gIC8vIH1cclxuICBsaW5rZWRDYWxlbmRhcnMgPSB0cnVlO1xyXG5cclxuICBfc3RhcnREYXRlOiBhbnk7XHJcbiAgQElucHV0KClcclxuICBzZXQgc3RhcnREYXRlKGRhdGUpIHtcclxuICAgIGlmIChkYXRlKSB7XHJcbiAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgc3RhcnREYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0RGF0ZTtcclxuICB9XHJcblxyXG4gIF9lbmREYXRlOiBhbnk7XHJcbiAgQElucHV0KClcclxuICBzZXQgZW5kRGF0ZShkYXRlKSB7XHJcbiAgICBpZiAoZGF0ZSkge1xyXG4gICAgICB0aGlzLl9lbmREYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBlbmREYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VuZERhdGU7XHJcbiAgfVxyXG5cclxuICBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gIHRtcERhdGU6IGFueSA9IG51bGw7XHJcbiAgdG1wRW5kRGF0ZTogYW55ID0gbnVsbDtcclxuICBsZWZ0Q2FsZW5kYXI7XHJcbiAgcmlnaHRDYWxlbmRhcjtcclxuICByYW5nZXM6IGFueVtdO1xyXG4gIGRheXM6IGFueSA9IFsnUycsICdNJywgJ1QnLCAnVycsICdUJywgJ0YnLCAnUyddO1xyXG4gIGRpc3BsYXlTdGFydERhdGU6IHN0cmluZztcclxuICBkaXNwbGF5RW5kRGF0ZTogc3RyaW5nO1xyXG4gIGZvY3VzZWRJbnB1dDogc3RyaW5nID0gJ3N0YXJ0JztcclxuICBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBkYXRlU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLnJhbmdlcyA9IFt7XHJcbiAgICAgIHRpdGxlOiAnVG9kYXknLFxyXG4gICAgICBwZXJpb2Q6IFtuZXcgRGF0ZSgpLCBuZXcgRGF0ZSgpXVxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ1llc3RlcmRheScsXHJcbiAgICAgIHBlcmlvZDogW3RoaXMuZ2V0WWVzdGVyZGF5KCksIHRoaXMuZ2V0WWVzdGVyZGF5KCldXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAnTGFzdCA3IERheXMnLFxyXG4gICAgICBwZXJpb2Q6IFt0aGlzLmdldFBhc3Q3RGF5cygpLCBuZXcgRGF0ZSgpXVxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ0xhc3QgMzAgRGF5cycsXHJcbiAgICAgIHBlcmlvZDogW3RoaXMuZ2V0UGFzdDMwRGF5cygpLCBuZXcgRGF0ZSgpXVxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ1RoaXMgTW9udGgnLFxyXG4gICAgICBwZXJpb2Q6IFt0aGlzLmdldEZpcnN0RGF5KCksIG5ldyBEYXRlKCldXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAnTGFzdCBNb250aCcsXHJcbiAgICAgIHBlcmlvZDogW3RoaXMuZ2V0Rmlyc3REYXlQcmV2KCksIHRoaXMuZ2V0TGFzdERheVByZXYoKV1cclxuICAgIH1dO1xyXG4gICAgaWYgKCF0aGlzLnN0YXJ0RGF0ZSkge1xyXG4gICAgICB0aGlzLl9zdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5sZWZ0Q2FsZW5kYXIgPSB7IG1vbnRoOiBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZS5nZXRUaW1lKCkpLCBjYWxlbmRhcjogbnVsbCB9O1xyXG5cclxuICAgIGlmICghdGhpcy5lbmREYXRlKSB7XHJcbiAgICAgIHRoaXMuX2VuZERhdGUgPSBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJpZ2h0Q2FsZW5kYXIgPSB7IG1vbnRoOiB0aGlzLmdldE5leHRNb250aCh0aGlzLmVuZERhdGUpLCBjYWxlbmRhcjogbnVsbCB9O1xyXG5cclxuICAgIHRoaXMuZGlzcGxheVN0YXJ0RGF0ZSA9IHRoaXMuc3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpOztcclxuICAgIHRoaXMuZGlzcGxheUVuZERhdGUgPSB0aGlzLmVuZERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7O1xyXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcignbGVmdCcpO1xyXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigncmlnaHQnKTtcclxuICB9XHJcblxyXG4gIGdldFllc3RlcmRheSgpIHtcclxuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDEpO1xyXG4gICAgcmV0dXJuIGRhdGU7XHJcbiAgfVxyXG4gIGdldFBhc3Q3RGF5cygpIHtcclxuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDYpO1xyXG4gICAgcmV0dXJuIGRhdGU7XHJcbiAgfVxyXG4gIGdldFBhc3QzMERheXMoKSB7XHJcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSAyOSk7XHJcbiAgICByZXR1cm4gZGF0ZTtcclxuICB9XHJcbiAgZ2V0Rmlyc3REYXkoKSB7XHJcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Rmlyc3REYXlQcmV2KCkge1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgKGRhdGUuZ2V0TW9udGgoKSAtIDEpLCAxKTtcclxuICB9XHJcbiAgZ2V0TGFzdERheVByZXYoKSB7XHJcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDApO1xyXG4gIH1cclxuICBkYXlzSW5Nb250aChtb250aCwgeWVhcikge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCk7XHJcbiAgfVxyXG4gIGdldExhc3RNb250aChkYXRlKSB7XHJcbiAgICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgIGxldCBjID0gbmV3IERhdGUoZC5nZXRUaW1lKCkpO1xyXG4gICAgYy5zZXRNb250aCgoZC5nZXRNb250aCgpIC0gMSkpO1xyXG4gICAgcmV0dXJuIGM7XHJcbiAgfVxyXG4gIGdldE5leHRNb250aChkYXRlKSB7XHJcbiAgICBsZXQgZCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgIHJldHVybiBuZXcgRGF0ZShkLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArIDEpKTtcclxuICB9XHJcbiAgZ2V0TW9udGhZZWFyKGRhdGUpIHtcclxuICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArIGRhdGUuZ2V0TW9udGgoKTtcclxuICB9XHJcbiAgaXNCZWZvcmUoZDEsIGQyKSB7XHJcbiAgICByZXR1cm4gZDEgPCBkMjtcclxuICB9XHJcbiAgaXNBZnRlcihkMSwgZDIpIHtcclxuICAgIHJldHVybiBkMiA8IGQxO1xyXG4gIH1cclxuICByZW5kZXJDYWxlbmRhcihzaWRlOiBzdHJpbmcpIHtcclxuICAgIGxldCBkYXRlID0gKHNpZGUgPT0gJ2xlZnQnID8gdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGggOiB0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgpO1xyXG4gICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgbGV0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBsZXQgZGF5c0luTW9udGggPSB0aGlzLmRheXNJbk1vbnRoKG1vbnRoICsgMSwgeWVhcik7XHJcbiAgICBsZXQgZmlyc3REYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSk7XHJcbiAgICBsZXQgbGFzdERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXlzSW5Nb250aCk7XHJcbiAgICBsZXQgbGFzdE1vbnRoID0gdGhpcy5nZXRMYXN0TW9udGgoZmlyc3REYXkpLmdldE1vbnRoKCk7XHJcbiAgICBsZXQgbGFzdFllYXIgPSB0aGlzLmdldExhc3RNb250aChmaXJzdERheSkuZ2V0RnVsbFllYXIoKTtcclxuICAgIGxldCBkYXlzSW5MYXN0TW9udGggPSB0aGlzLmRheXNJbk1vbnRoKGxhc3RNb250aCArIDEsIGxhc3RZZWFyKTtcclxuICAgIGxldCBkYXlPZldlZWsgPSBmaXJzdERheS5nZXREYXkoKTtcclxuICAgIGxldCBjYWxlbmRhciA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgY2FsZW5kYXJbaV0gPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3RhcnREYXkgPSBkYXlzSW5MYXN0TW9udGggLSBkYXlPZldlZWsgKyAxO1xyXG5cclxuICAgIGlmIChzdGFydERheSA+IGRheXNJbkxhc3RNb250aCkge1xyXG4gICAgICBzdGFydERheSAtPSA3O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXlPZldlZWsgPT09IDApIHtcclxuICAgICAgc3RhcnREYXkgPSBkYXlzSW5MYXN0TW9udGggLSA2O1xyXG4gICAgfVxyXG4gICAgbGV0IGN1ckRhdGUgPSBuZXcgRGF0ZShsYXN0WWVhciwgbGFzdE1vbnRoLCBzdGFydERheSk7XHJcblxyXG4gICAgbGV0IGNvbCwgcm93O1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGNvbCA9IDAsIHJvdyA9IDA7IGkgPCA0MjsgaSsrICwgY29sKysgLCBjdXJEYXRlLnNldERhdGUoY3VyRGF0ZS5nZXREYXRlKCkgKyAxKSkge1xyXG5cclxuICAgICAgaWYgKGkgPiAwICYmIGNvbCAlIDcgPT09IDApIHtcclxuICAgICAgICBjb2wgPSAwO1xyXG4gICAgICAgIHJvdysrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhbGVuZGFyW3Jvd11bY29sXSA9IG5ldyBEYXRlKGN1ckRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgY3VyRGF0ZS5zZXRIb3VycygxMik7XHJcblxyXG4gICAgICBpZiAodGhpcy5taW5EYXRlICYmIGNhbGVuZGFyW3Jvd11bY29sXS50b0xvY2FsZURhdGVTdHJpbmcoKSA9PSB0aGlzLm1pbkRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkgJiYgdGhpcy5pc0JlZm9yZShjYWxlbmRhcltyb3ddW2NvbF0sIHRoaXMubWluRGF0ZSkgJiYgc2lkZSA9PSAnbGVmdCcpIHtcclxuICAgICAgICBjYWxlbmRhcltyb3ddW2NvbF0gPSBuZXcgRGF0ZSh0aGlzLm1pbkRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMubWF4RGF0ZSAmJiBjYWxlbmRhcltyb3ddW2NvbF0udG9Mb2NhbGVEYXRlU3RyaW5nKCkgPT0gdGhpcy5tYXhEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpICYmIHRoaXMuaXNBZnRlcihjYWxlbmRhcltyb3ddW2NvbF0sIHRoaXMubWF4RGF0ZSkgJiYgc2lkZSA9PSAncmlnaHQnKSB7XHJcbiAgICAgICAgY2FsZW5kYXJbcm93XVtjb2xdID0gbmV3IERhdGUodGhpcy5tYXhEYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9tYWtlIHRoZSBjYWxlbmRhciBvYmplY3QgYXZhaWxhYmxlIHRvIGhvdmVyRGF0ZS9jbGlja0RhdGVcclxuICAgIGlmIChzaWRlID09ICdsZWZ0Jykge1xyXG4gICAgICB0aGlzLmxlZnRDYWxlbmRhci5jYWxlbmRhciA9IGNhbGVuZGFyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyID0gY2FsZW5kYXI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlzVG9kYXkoZGF5KSB7XHJcbiAgICBpZiAoIWRheSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSA9PT0gZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gIH1cclxuICBpc0FjdGl2ZURhdGUoZGF5KSB7XHJcbiAgICBpZiAoZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygpID09IHRoaXMuc3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmVuZERhdGUgJiYgZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygpID09IHRoaXMuZW5kRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaXNTdGFydERhdGUoZGF5KSB7XHJcbiAgICBpZiAoZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygpID09IHRoaXMuc3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBpc0VuZERhdGUoZGF5KSB7XHJcbiAgICBpZiAodGhpcy5lbmREYXRlICYmIGRheS50b0xvY2FsZURhdGVTdHJpbmcoKSA9PSB0aGlzLmVuZERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGlzRGlzYWJsZWQoZGF5KSB7XHJcbiAgICBpZiAodGhpcy5taW5EYXRlICYmIHRoaXMuaXNCZWZvcmUoZGF5LCB0aGlzLm1pbkRhdGUpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm1heERhdGUgJiYgdGhpcy5pc0FmdGVyKGRheSwgdGhpcy5tYXhEYXRlKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaXNJblJhbmdlKGRheSkge1xyXG4gICAgaWYgKHRoaXMuZW5kRGF0ZSkge1xyXG4gICAgICBpZiAodGhpcy5pc0FmdGVyKGRheSwgdGhpcy5zdGFydERhdGUpICYmIHRoaXMuaXNCZWZvcmUoZGF5LCB0aGlzLmVuZERhdGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5pc0FmdGVyKGRheSwgdGhpcy5zdGFydERhdGUpICYmIHRoaXMuaXNCZWZvcmUoZGF5LCB0aGlzLnRtcERhdGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIG5leHRBdmFpbGFibGUoKSB7XHJcbiAgICBsZXQgY2FsZW5kYXIgPSAodGhpcy5zaW5nbGVEYXRlUGlja2VyID8gdGhpcy5sZWZ0Q2FsZW5kYXIgOiB0aGlzLnJpZ2h0Q2FsZW5kYXIpO1xyXG4gICAgbGV0IGxkYXkgPSBuZXcgRGF0ZShjYWxlbmRhci5tb250aC5nZXRGdWxsWWVhcigpLCBjYWxlbmRhci5tb250aC5nZXRNb250aCgpICsgMSwgMCk7XHJcbiAgICBpZiAoIXRoaXMubWF4RGF0ZSB8fCB0aGlzLmlzQWZ0ZXIodGhpcy5tYXhEYXRlLCBsZGF5KSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgcHJldkF2YWlsYWJsZSgpIHtcclxuICAgIGxldCBjYWxlbmRhciA9IHRoaXMubGVmdENhbGVuZGFyO1xyXG4gICAgbGV0IGZkYXkgPSBuZXcgRGF0ZShjYWxlbmRhci5tb250aC5nZXRGdWxsWWVhcigpLCBjYWxlbmRhci5tb250aC5nZXRNb250aCgpLCAxKTtcclxuICAgIGlmICghdGhpcy5taW5EYXRlIHx8IHRoaXMuaXNCZWZvcmUodGhpcy5taW5EYXRlLCBmZGF5KSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgbm90QWN0aXZlTW9udGgoZGF5LCBzaWRlKSB7XHJcbiAgICBsZXQgY2FsID0gKHNpZGUgPT0gJ2xlZnQnID8gdGhpcy5sZWZ0Q2FsZW5kYXIuY2FsZW5kYXIgOiB0aGlzLnJpZ2h0Q2FsZW5kYXIuY2FsZW5kYXIpO1xyXG4gICAgaWYgKGRheS5nZXRNb250aCgpICE9IGNhbFsxXVsxXS5nZXRNb250aCgpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBnZXRNb250aChzaWRlKSB7XHJcbiAgICBsZXQgY2FsID0gKHNpZGUgPT0gJ2xlZnQnID8gdGhpcy5sZWZ0Q2FsZW5kYXIuY2FsZW5kYXIgOiB0aGlzLnJpZ2h0Q2FsZW5kYXIuY2FsZW5kYXIpO1xyXG4gICAgcmV0dXJuIHRoaXMubW9udGhOYW1lc1tjYWxbMV1bMV0uZ2V0TW9udGgoKV0gKyBcIiBcIiArIGNhbFsxXVsxXS5nZXRGdWxsWWVhcigpO1xyXG4gIH1cclxuICBjbGlja1ByZXYoKSB7XHJcbiAgICB0aGlzLmxlZnRDYWxlbmRhci5tb250aC5zZXRNb250aCh0aGlzLmxlZnRDYWxlbmRhci5tb250aC5nZXRNb250aCgpIC0gMSk7XHJcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCdsZWZ0Jyk7XHJcbiAgICBpZiAodGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyKSB7XHJcbiAgICAgIHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5zZXRNb250aCh0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGguZ2V0TW9udGgoKSAtIDEpO1xyXG4gICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCdyaWdodCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjbGlja05leHQoKSB7XHJcbiAgICB0aGlzLmxlZnRDYWxlbmRhci5tb250aC5zZXRNb250aCh0aGlzLmxlZnRDYWxlbmRhci5tb250aC5nZXRNb250aCgpICsgMSk7XHJcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCdsZWZ0Jyk7XHJcbiAgICBpZiAodGhpcy5yaWdodENhbGVuZGFyLmNhbGVuZGFyKSB7XHJcbiAgICAgIHRoaXMucmlnaHRDYWxlbmRhci5tb250aC5zZXRNb250aCh0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGguZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICB0aGlzLnJlbmRlckNhbGVuZGFyKCdyaWdodCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjbGlja2RhdGUoZGF5LCBzaWRlKSB7XHJcbiAgICBpZiAodGhpcy5pc0Rpc2FibGVkKGRheSkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZW5kRGF0ZSB8fCB0aGlzLmlzQmVmb3JlKGRheSwgdGhpcy5zdGFydERhdGUpKSB7XHJcbiAgICAgIHRoaXMuX2VuZERhdGUgPSBudWxsO1xyXG4gICAgICB0aGlzLnNldFN0YXJ0RGF0ZShkYXkpO1xyXG4gICAgICBpZiAodGhpcy50bXBFbmREYXRlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFbmREYXRlKHRoaXMudG1wRW5kRGF0ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5wdXQgPSAnZW5kJztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghdGhpcy5lbmREYXRlICYmIHRoaXMuaXNCZWZvcmUoZGF5LCB0aGlzLnN0YXJ0RGF0ZSkpIHtcclxuICAgICAgdGhpcy5zZXRFbmREYXRlKHRoaXMuc3RhcnREYXRlKTtcclxuICAgICAgdGhpcy5mb2N1c2VkSW5wdXQgPSAnc3RhcnQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRFbmREYXRlKGRheSk7XHJcbiAgICAgIHRoaXMuZm9jdXNlZElucHV0ID0gJ3N0YXJ0JztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNpbmdsZURhdGVQaWNrZXIpIHtcclxuICAgICAgdGhpcy5zZXRFbmREYXRlKHRoaXMuc3RhcnREYXRlKTtcclxuICAgICAgdGhpcy5mb2N1c2VkSW5wdXQgPSAnc3RhcnQnO1xyXG4gICAgICB0aGlzLmRhdGVTZWxlY3RlZC5lbWl0KHRoaXMuc3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlVmlldygpO1xyXG4gIH1cclxuICByYW5nZUNsaWNrKHJhbmdlKSB7XHJcbiAgICB0aGlzLnNldFN0YXJ0RGF0ZShyYW5nZS5wZXJpb2RbMF0pO1xyXG4gICAgdGhpcy5zZXRFbmREYXRlKHJhbmdlLnBlcmlvZFsxXSk7XHJcbiAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcclxuICAgIHRoaXMuYXBwbHlDbGljaygpO1xyXG4gIH1cclxuICByYW5nZUhvdmVyKHJhbmdlKSB7XHJcbiAgICB0aGlzLmRpc3BsYXlTdGFydERhdGUgPSByYW5nZS5wZXJpb2RbMF0udG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICB0aGlzLmRpc3BsYXlFbmREYXRlID0gcmFuZ2UucGVyaW9kWzFdLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gIH1cclxuICBob3ZlckV4aXQoKSB7XHJcbiAgICB0aGlzLmRpc3BsYXlTdGFydERhdGUgPSB0aGlzLnN0YXJ0RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIHRoaXMuZGlzcGxheUVuZERhdGUgPSAodGhpcy5lbmREYXRlID8gdGhpcy5lbmREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpIDogdGhpcy5kaXNwbGF5U3RhcnREYXRlKTtcclxuICB9XHJcbiAgaG92ZXJkYXRlKGRheSkge1xyXG4gICAgaWYgKHRoaXMuaXNEaXNhYmxlZChkYXkpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMudG1wRGF0ZSA9IG5ldyBEYXRlKGRheS5nZXRUaW1lKCkpO1xyXG4gICAgaWYgKHRoaXMuZm9jdXNlZElucHV0ID09PSAnc3RhcnQnKSB7XHJcbiAgICAgIHRoaXMuZGlzcGxheVN0YXJ0RGF0ZSA9IHRoaXMudG1wRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGlzcGxheUVuZERhdGUgPSB0aGlzLnRtcERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlucHV0Rm9jdXMoc2lkZSkge1xyXG4gICAgdGhpcy5mb2N1c2VkSW5wdXQgPSBzaWRlO1xyXG4gICAgaWYgKHRoaXMuZW5kRGF0ZSkge1xyXG4gICAgICB0aGlzLnRtcEVuZERhdGUgPSBuZXcgRGF0ZSh0aGlzLmVuZERhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgaWYgKHNpZGUgPT0gJ3N0YXJ0Jykge1xyXG4gICAgICB9IGVsc2UgaWYgKHNpZGUgPT0gJ2VuZCcpIHtcclxuICAgICAgICB0aGlzLl9lbmREYXRlID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgaW5wdXRCbHVyKHNpZGUpIHtcclxuICB9XHJcbiAgaW5wdXRDaGFuZ2VkKGV2ZW50LCBzaWRlKSB7XHJcbiAgICBsZXQgdmFsID0gbmV3IERhdGUoZXZlbnQudGFyZ2V0LnZhbHVlKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgIGlmICh0aGlzLmlzRGlzYWJsZWQodmFsKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoc2lkZSA9PT0gJ3N0YXJ0Jykge1xyXG4gICAgICB0aGlzLnNldFN0YXJ0RGF0ZSh2YWwpO1xyXG4gICAgfSBlbHNlIGlmIChzaWRlID09PSAnZW5kJykge1xyXG4gICAgICB0aGlzLnNldEVuZERhdGUodmFsKTtcclxuICAgICAgaWYgKHRoaXMuaXNCZWZvcmUodmFsLCB0aGlzLnN0YXJ0RGF0ZSkpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXJ0RGF0ZSh2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcclxuICB9XHJcbiAgdXBkYXRlVmlldygpIHtcclxuICAgIGlmICh0aGlzLmVuZERhdGUpIHtcclxuXHJcbiAgICAgIC8vaWYgYm90aCBkYXRlcyBhcmUgdmlzaWJsZSBhbHJlYWR5LCBkbyBub3RoaW5nXHJcbiAgICAgIGlmICghdGhpcy5zaW5nbGVEYXRlUGlja2VyICYmIHRoaXMubGVmdENhbGVuZGFyLm1vbnRoICYmIHRoaXMucmlnaHRDYWxlbmRhci5tb250aCAmJlxyXG4gICAgICAgICh0aGlzLmdldE1vbnRoWWVhcih0aGlzLnN0YXJ0RGF0ZSkgPT0gdGhpcy5nZXRNb250aFllYXIodGhpcy5sZWZ0Q2FsZW5kYXIubW9udGgpKSB8fCAodGhpcy5nZXRNb250aFllYXIodGhpcy5zdGFydERhdGUpID09IHRoaXMuZ2V0TW9udGhZZWFyKHRoaXMucmlnaHRDYWxlbmRhci5tb250aCkpXHJcbiAgICAgICAgJiZcclxuICAgICAgICAodGhpcy5nZXRNb250aFllYXIodGhpcy5lbmREYXRlKSA9PSB0aGlzLmdldE1vbnRoWWVhcih0aGlzLmxlZnRDYWxlbmRhci5tb250aCkgfHwgdGhpcy5nZXRNb250aFllYXIodGhpcy5lbmREYXRlKSA9PSB0aGlzLmdldE1vbnRoWWVhcih0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGgpKVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMubGVmdENhbGVuZGFyLm1vbnRoID0gbmV3IERhdGUodGhpcy5zdGFydERhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgaWYgKCF0aGlzLmxpbmtlZENhbGVuZGFycyAmJiAodGhpcy5lbmREYXRlLmdldE1vbnRoKCkgIT0gdGhpcy5zdGFydERhdGUuZ2V0TW9udGgoKSB8fCB0aGlzLmVuZERhdGUuZ2V0RnVsbFllYXIoKSAhPSB0aGlzLnN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpKSkge1xyXG4gICAgICAgIHRoaXMucmlnaHRDYWxlbmRhci5tb250aCA9IG5ldyBEYXRlKHRoaXMuZW5kRGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucmlnaHRDYWxlbmRhci5tb250aCA9IG5ldyBEYXRlKHRoaXMuc3RhcnREYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuc3RhcnREYXRlLmdldE1vbnRoKCkgKyAxLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmdldE1vbnRoWWVhcih0aGlzLmxlZnRDYWxlbmRhci5tb250aCkgIT0gdGhpcy5nZXRNb250aFllYXIodGhpcy5zdGFydERhdGUpICYmIHRoaXMuZ2V0TW9udGhZZWFyKHRoaXMucmlnaHRDYWxlbmRhci5tb250aCkgIT0gdGhpcy5nZXRNb250aFllYXIodGhpcy5zdGFydERhdGUpKSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGggPSBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgIHRoaXMucmlnaHRDYWxlbmRhci5tb250aCA9IG5ldyBEYXRlKHRoaXMuc3RhcnREYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuc3RhcnREYXRlLmdldE1vbnRoKCkgKyAxLCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubWF4RGF0ZSAmJiB0aGlzLmxpbmtlZENhbGVuZGFycyAmJiAhdGhpcy5zaW5nbGVEYXRlUGlja2VyICYmIHRoaXMucmlnaHRDYWxlbmRhci5tb250aCA+IHRoaXMubWF4RGF0ZSkge1xyXG4gICAgICB0aGlzLnJpZ2h0Q2FsZW5kYXIubW9udGggPSBuZXcgRGF0ZSh0aGlzLm1heERhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgdGhpcy5sZWZ0Q2FsZW5kYXIubW9udGggPSBuZXcgRGF0ZSh0aGlzLm1heERhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5tYXhEYXRlLmdldE1vbnRoKCkgLSAxLCAxKTtcclxuICAgIH1cclxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoJ2xlZnQnKTtcclxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoJ3JpZ2h0Jyk7XHJcbiAgfVxyXG4gIHNldFN0YXJ0RGF0ZShzdGFydERhdGUpIHtcclxuICAgIGlmICh0eXBlb2Ygc3RhcnREYXRlID09PSAnc3RyaW5nJylcclxuICAgICAgdGhpcy5fc3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIHN0YXJ0RGF0ZSA9PT0gJ29iamVjdCcpXHJcbiAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRUaW1lKCkpO1xyXG5cclxuICAgIHRoaXMuZGlzcGxheVN0YXJ0RGF0ZSA9IHRoaXMuc3RhcnREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gIH1cclxuICBzZXRFbmREYXRlKGVuZERhdGUpIHtcclxuICAgIGlmICh0eXBlb2YgZW5kRGF0ZSA9PT0gJ3N0cmluZycpXHJcbiAgICAgIHRoaXMuX2VuZERhdGUgPSBuZXcgRGF0ZShlbmREYXRlKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGVuZERhdGUgPT09ICdvYmplY3QnKVxyXG4gICAgICB0aGlzLl9lbmREYXRlID0gbmV3IERhdGUoZW5kRGF0ZS5nZXRUaW1lKCkpO1xyXG5cclxuXHJcbiAgICB0aGlzLmRpc3BsYXlFbmREYXRlID0gdGhpcy5lbmREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xyXG4gICAgdGhpcy50bXBFbmREYXRlID0gbnVsbDtcclxuICB9XHJcbiAgYXBwbHlDbGljaygpIHtcclxuICAgIHRoaXMuZGF0ZVNlbGVjdGVkLmVtaXQodGhpcy5zdGFydERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAnIC0gJyArIHRoaXMuZW5kRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSk7XHJcbiAgfVxyXG4gIGNhbmNlbENsaWNrKCkge1xyXG4gICAgdGhpcy5jbG9zZS5lbWl0KGZhbHNlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBOZ1pvbmUsIE91dHB1dCwgSG9zdExpc3RlbmVyLCBSZW5kZXJlcjIsIFZpZXdDaGlsZCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50UmVmLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBEYXRlUGlja2VyRGlyZWN0aXZlQ29tcG9uZW50IH0gZnJvbSAnLi9kYXRlLXBpY2tlci1kaXJlY3RpdmUuY29tcG9uZW50JztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW2RhdGUtcGlja2VyXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJEaXJlY3RpdmUge1xyXG4gIEBJbnB1dCgpIG1pbkRhdGU/OiBzdHJpbmc7XHJcbiAgQElucHV0KCkgbWF4RGF0ZT86IHN0cmluZztcclxuICBASW5wdXQoKSBzaW5nbGVEYXRlUGlja2VyPzogYm9vbGVhbjtcclxuICBASW5wdXQoKSBsaW5rZWRDYWxlbmRhcnM/OiBib29sZWFuXHJcbiAgQElucHV0KCkgc3RhcnREYXRlPzogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIG5nTW9kZWw/OiBzdHJpbmc7XHJcbiAgQElucHV0KCkgZW5kRGF0ZT86IHN0cmluZztcclxuICBAT3V0cHV0KCkgZGF0ZXNlbGVjdGVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBuZ01vZGVsQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBjb21wb25lbnRSZWYgPSBudWxsO1xyXG4gIHBpY2tlckxvYWRlZCA9IGZhbHNlO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmdab25lOiBOZ1pvbmUsIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMiwgcHJpdmF0ZSB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmLFxyXG4gICAgcHJpdmF0ZSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikgeyB9XHJcblxyXG4gIEBIb3N0TGlzdGVuZXIoJ2ZvY3VzJywgWyckZXZlbnQnXSlcclxuICBvbkZvY3VzKGV2ZW50OiBFdmVudCkge1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnZpZXdDb250YWluZXIuZWxlbWVudC5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQsICdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xyXG4gICAgbGV0IGhlaWdodCA9IHRoaXMudmlld0NvbnRhaW5lci5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XHJcbiAgICBsZXQgY29tcG9uZW50RmFjdG9yeSA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERhdGVQaWNrZXJEaXJlY3RpdmVDb21wb25lbnQpO1xyXG4gICAgdGhpcy5jb21wb25lbnRSZWYgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnkpO1xyXG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UubWluRGF0ZSA9IHRoaXMubWluRGF0ZTtcclxuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLm1heERhdGUgPSB0aGlzLm1heERhdGU7XHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5zaW5nbGVEYXRlUGlja2VyID0gdGhpcy5zaW5nbGVEYXRlUGlja2VyO1xyXG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2Uuc3RhcnREYXRlID0gdGhpcy5zdGFydERhdGU7XHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5lbmREYXRlID0gdGhpcy5lbmREYXRlO1xyXG5cclxuICAgIGxldCBlbG0gPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJsLWRycGlja2VyJyk7XHJcbiAgICBlbG0uc2V0QXR0cmlidXRlKCdzdHlsZScsICd0b3A6JyArIHBhcnNlSW50KGhlaWdodCArIDEwKSArICdweCcpO1xyXG4gICAgbGV0IHJlY3QgPSBlbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgbCA9IHJlY3QubGVmdDtcclxuICAgIGxldCB3ID0gcmVjdC53aWR0aDtcclxuICAgIGxldCBkb2NIID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLm9mZnNldEhlaWdodDtcclxuICAgIGxldCBkb2NXID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLm9mZnNldFdpZHRoO1xyXG4gICAgbGV0IGlzRW50aXJlbHlWaXNpYmxlID0gKGwgKyB3IDw9IGRvY1cpO1xyXG5cclxuICAgIGlmICghaXNFbnRpcmVseVZpc2libGUpIHtcclxuICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoJ2VkZ2UnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKCdlZGdlJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5jbG9zZS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmRhdGVTZWxlY3RlZC5zdWJzY3JpYmUoKHZhbCkgPT4ge1xyXG4gICAgICB0aGlzLmRhdGVzZWxlY3RlZC5lbWl0KHZhbCk7XHJcbiAgICAgIHRoaXMuY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcclxuICAgICAgdGhpcy5waWNrZXJMb2FkZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OmNsaWNrJywgWyckZXZlbnQudGFyZ2V0J10pXHJcbiAgcHVibGljIG9uQ2xpY2sodGFyZ2V0RWxlbWVudCkge1xyXG4gICAgaWYgKHRoaXMuY29tcG9uZW50UmVmKSB7XHJcbiAgICAgIGNvbnN0IGNsaWNrZWREcCA9IHRoaXMuY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuY29udGFpbnModGFyZ2V0RWxlbWVudCk7XHJcbiAgICAgIGNvbnN0IGNsaWNrZWRJbnB1dCA9IHRoaXMudmlld0NvbnRhaW5lci5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQgPT0gdGFyZ2V0RWxlbWVudDtcclxuICAgICAgY29uc3QgaW5EcCA9ICh0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQgPyB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYWxlbmRhci1yb3cnKSA6IGZhbHNlKTtcclxuICAgICAgaWYgKCFjbGlja2VkRHAgJiYgIWNsaWNrZWRJbnB1dCAmJiAhaW5EcCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFJlZikge1xyXG4gICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IERhdGVQaWNrZXJEaXJlY3RpdmVDb21wb25lbnQgfSBmcm9tICcuL2RhdGUtcGlja2VyLWRpcmVjdGl2ZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXRlUGlja2VyRGlyZWN0aXZlIH0gZnJvbSAnLi9kYXRlLXBpY2tlci5kaXJlY3RpdmUnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXHJcbiAgXSxcclxuICBlbnRyeUNvbXBvbmVudHM6IFtEYXRlUGlja2VyRGlyZWN0aXZlQ29tcG9uZW50XSxcclxuICBkZWNsYXJhdGlvbnM6IFtEYXRlUGlja2VyRGlyZWN0aXZlQ29tcG9uZW50LCBEYXRlUGlja2VyRGlyZWN0aXZlXSxcclxuICBleHBvcnRzOiBbRGF0ZVBpY2tlckRpcmVjdGl2ZUNvbXBvbmVudCwgRGF0ZVBpY2tlckRpcmVjdGl2ZV1cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJNb2R1bGUgeyB9XHJcbiJdLCJuYW1lcyI6WyJJbmplY3RhYmxlIiwiRXZlbnRFbWl0dGVyIiwiQ29tcG9uZW50IiwiSW5wdXQiLCJEaXJlY3RpdmUiLCJOZ1pvbmUiLCJSZW5kZXJlcjIiLCJWaWV3Q29udGFpbmVyUmVmIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiT3V0cHV0IiwiSG9zdExpc3RlbmVyIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtRQU9FO1NBQWlCOztvQkFMbEJBLGFBQVUsU0FBQzt3QkFDVixVQUFVLEVBQUUsTUFBTTtxQkFDbkI7Ozs7O3lDQUpEOzs7Ozs7O0FDQUE7UUE4RUU7NEJBckVnQixJQUFJOzRCQVVKLElBQUk7b0NBV2tCLEtBQUs7Ozs7Ozs7Ozs7O21DQVl6QixJQUFJOzhCQXdCVCxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFL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